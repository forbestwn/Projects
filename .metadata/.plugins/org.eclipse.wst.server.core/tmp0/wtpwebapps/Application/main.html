<!DOCTYPE html>
<html>
<head>
        <meta charset="utf-8" />
        <title>Nosliw Go Go !!</title>

        <script src="libs/underscore.js"></script>
        <script src="libs/jquery.js"></script>
        <script src="libs/backbone.js"></script>
        <script src="libs/backbone.marionette.js"></script>
        <script src="libs/log4javascript.js"></script>

        <script src="js/generated/NOSLIWCOMMONCONSTANT.js"></script>
        <script src="js/generated/NOSLIWATCOMMONTRIBUTECONSTANT.js"></script>

        <script src="js/constant/constant.js"></script>

        <script src="js/event/event.js"></script>
        <script src="js/event/entities.js"></script>

        <script src="js/common/commonutility.js"></script>
        <script src="js/common/entity.js"></script>
        <script src="js/common/orderedcontainer.js"></script>
        <script src="js/common/segmentparser.js"></script>
        <script src="js/common/setting.js"></script>
        <script src="js/common/namingconversion.js"></script>

        <script src="js/interface/lifecycle.js"></script>
        <script src="js/interface/typedobject.js"></script>
        <script src="js/interface/objectId.js"></script>

        <script src="js/error/errorutility.js"></script>
        <script src="js/error/entitys.js"></script>
        <script src="js/error/error.js"></script>

        <script src="js/logging/loggingService.js"></script>

        <script src="js/login/loginService.js"></script>

        <script src="js/remoteservice/entitys.js"></script>
        <script src="js/remoteservice/errorutility.js"></script>
        <script src="js/remoteservice/synctask.js"></script>
        <script src="js/remoteservice/remoteservice.js"></script>
        <script src="js/remoteservice/serviceutility.js"></script>

        <script src="js/request/entitys.js"></script>
        <script src="js/request/request.js"></script>
        <script src="js/request/requestmanager.js"></script>
        <script src="js/request/requestutility.js"></script>
        <script src="js/request/requestservice.js"></script>
        <script src="js/request/requestset.js"></script>
        <script src="js/request/requestsimple.js"></script>
        <script src="js/request/requestsequence.js"></script>
        <script src="js/request/requestgrouphandle.js"></script>

        <script src="js/dynamicload/scriptload.js"></script>

        <script src="js/uiresource/entitys.js"></script>
        <script src="js/uiresource/uiresource.js"></script>
        <script src="js/uiresource/uiresourcemanager.js"></script>
        <script src="js/uiresource/uitag.js"></script>
        <script src="js/uiresource/uitagmanager.js"></script>
        <script src="js/uiresource/uiutility.js"></script>
        <script src="js/uiresource/requestuitag.js"></script>
        <script src="js/uiresource/uiresourcescript.js"></script>
        <script src="js/uiresource/expressioncontent.js"></script>

        <script src="js/datatype/datatypemanager.js"></script>
        <script src="js/datatype/expression.js"></script>
        <script src="js/datatype/entitys.js"></script>
        
        <script src="js/objectentity/entitys.js"></script>
        <script src="js/objectentity/context.js"></script>
        <script src="js/objectentity/contextvariable.js"></script>
        <script src="js/objectentity/contextvargroup.js"></script>
        <script src="js/objectentity/wraper.js"></script>
        <script src="js/objectentity/wrappercommon.js"></script>
        <script src="js/objectentity/variable.js"></script>
        <script src="js/objectentity/data.js"></script>
        <script src="js/objectentity/datautility.js"></script>
        <script src="js/objectentity/wrapereventutility.js"></script>
        <script src="js/objectentity/objectentityutility.js"></script>
        <script src="js/objectentity/object/objectutility.js"></script>
        <script src="js/objectentity/object/objectwraper.js"></script>


        
        <script src="js/nosliw/nosliw.js"></script>

        <script src="js/taglibs/textinput.js"></script>
        <script src="js/taglibs/loop.js"></script>
        <script src="js/taglibs/switchcase.js"></script>
        
</head>

<body>
	    aaaaa

	<div id="testDiv">
	</div>

</body>

<script>
	
	$(function () {
		
		nosliw.start();
		
		aaaa = nosliwCreateWraper(
			{
				a:{
					aa: nosliwCreateData(11, new NosliwDataTypeInfo("simple", "integer")),
					ab: nosliwCreateData(12, new NosliwDataTypeInfo("simple", "integer")),
				},
				b:{
					aa: nosliwCreateData(21, new NosliwDataTypeInfo("simple", "integer")),
					ab: nosliwCreateData(22, new NosliwDataTypeInfo("simple", "integer")),
				},
			}
		);		
		
		nosliw.registerEventListener({}, function(event, transitStatus){
			if(transitStatus.newStatus==NOSLIWCONSTANT.LIFECYCLE_RESOURCE_STATUS_ACTIVE){

				var expression = 
				
				{
						
						"expression":"?(cc)?.largerThan(?(dd)?).not()",
							"operand":{"type":"3",
							"scriptRunnable":"false",
							"operation":"not",
							"parameters":[],
							"baseData":{"type":"3",
							"scriptRunnable":"false",
							"operation":"largerThan",
							"parameters":[{"type":"2",
							"scriptRunnable":"true",
							"varName":"dd"
							}],
							"baseData":{"type":"2",
							"scriptRunnable":"true",
							"varName":"cc"
							}
							}
							},
							"scriptRunnable":false,
							"variablesInfo":{"cc":"null",
							"dd":"null"
							},
							"constant":{
								cc : nosliwCreateData(8, new NosliwDataTypeInfo("simple", "integer")),
								dd : nosliwCreateData(3, new NosliwDataTypeInfo("simple", "integer")),
							},
							"allDataTypeInfos":[]
												
						
				};
				
				
				
				
/*				
				var expressionObj = nosliwCreateExpression(expression);
				expressionObj.init();
				
				expressionObj.registerEventListener({}, function(event, transitStatus){
					if(transitStatus.newStatus==NOSLIWCONSTANT.LIFECYCLE_RESOURCE_STATUS_ACTIVE){
						expressionObj.requestExecuteExpression({
							success : function(requestInfo, data){
								alert(data.value);
							},
						});
					}
				});
*/

				
/*				
				var parms = [];
				parms.push({
					dataTypeInfo : new NosliwDataTypeInfo("simple", "integer"), 
					value : 8,
				});
				parms.push({
					dataTypeInfo : new NosliwDataTypeInfo("simple", "integer"), 
					value : 6,
				});
				nosliw.getDataTypeManager().requestExecuteDataOperation(new NosliwDataTypeInfo("simple", "integer"), "largerThan", parms, {
					success : function(requestInfo, data){
//						alert(data);
					},
					error : function(requestInfo, serviceData){
						alert("bbbbbbb");
					},
					exception : function(requestInfo, serviceData){
						alert("bbbbbbb");
					},
					
				});
*/

				
/*				
				var requestArray = [];
				requestArray.push(new NosliwDataTypeInfo("simple", "string"));
				requestArray.push(new NosliwDataTypeInfo("simple", "integer"));
				nosliw.getDataTypeManager().requestGetDataTypes(requestArray, {
					success : function(requestInfo, dataTypeArray){
						alert("bbbbbbb");
					}
				});
*/				
				
/*				
				nosliw.getUIResourceManager().requestGetUIResource('test', {
					success : function(requestInfo, resourceView){
					}
				});
*/



				var parentReq = nosliwCreateRequestSequence({}, {
					success : function(requestInfo, data){
//						alert('aaaaaa');
					}
				});

				var req1 = nosliw.getUIResourceManager().getRequestInfoCreateUIResourceView('test', {
					success : function(requestInfo, resourceView){
//						nosliwLogging.info(resourceView);
//						$("#testDiv").append(resourceView.getViews());	
						resourceView.appendTo($("#testDiv"));
						
						var wrapers = {
							key : aaaa, 
							
						};
						resourceView.updateContext(wrapers, req1);
						
					},
					fail : function(requestInfo, serviceData){
						
					},
					exception : function(requestInfo, serviceData){
						
					}
				});
				
				parentReq.addRequest(req1);
				
				nosliw.getRequestServiceManager().processRequest(parentReq);
			}
			
		});
		
 	});	
	
	
	var bbbb = function(){
		var parentReq1 = nosliwCreateRequestSequence({}, {
			success : function(requestInfo, data){
//				alert('aaaaaa');
			}
		});

		aaaa.requestDataOperation({
			command:NOSLIWCONSTANT.WRAPPER_OPERATION_SET,
			parms : {
				data : nosliwCreateData(20, new NosliwDataTypeInfo("simple", "integer")),
				path : "a.aa",
			},
		}, parentReq1);
		
		nosliw.getRequestServiceManager().processRequest(parentReq1);
		
	};
	
	
</script>
</html>
